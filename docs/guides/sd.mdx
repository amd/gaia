---
title: "Image Generation CLI"
description: "Generate images from text using the gaia sd command"
---

<Info>
  **CLI Command:** `gaia sd` - Generate images using Stable Diffusion on Ryzen AI
</Info>

The `gaia sd` command generates images from text descriptions using Stable Diffusion models running locally on Lemonade Server.

<Note>
**Direct generation (no LLM):** This CLI command sends your prompt directly to Stable Diffusion without enhancement. For **LLM-powered prompt enhancement**, see the [Image Generation Agent Playbook](/playbooks/sd-agent/index) which teaches you to build an agent that automatically improves prompts.
</Note>

---

## Quick Start

<Steps>
  <Step title="Start Lemonade Server">
    ```bash
    lemonade-server serve
    ```
  </Step>

  <Step title="Pull SD model (first time)">
    ```bash
    lemonade-server pull SD-Turbo
    ```
  </Step>

  <Step title="Generate an image">
    ```bash
    gaia sd "a sunset over mountains, dramatic lighting, detailed"
    ```

    Image saved to: `.gaia/cache/sd/images/`
  </Step>
</Steps>

---

## CLI vs Agent Approach

**This CLI command (`gaia sd`):**
- Sends your prompt **directly** to Stable Diffusion (no enhancement)
- Fast and simple - just generates what you ask for
- You write the detailed prompt yourself

**Agent approach** ([see playbook](/playbooks/sd-agent/index)):
- Uses an **LLM to enhance** your simple prompts automatically
- "a cat" → "fluffy orange cat, soft lighting, detailed fur, photorealistic, 4k"
- Better results from simple descriptions, but requires agent setup

---

## Basic Usage

Generate a single image:
```bash
gaia sd "your prompt here"
```

**Tip:** For best results with CLI, write detailed prompts. The command sends your prompt directly to SD without enhancement.

The command will:
1. Show generation settings (prompt, model, size, estimated time)
2. Display a progress spinner with elapsed timer
3. Show the image preview in terminal
4. Prompt to open in default image viewer
5. Display success message with file path

---

## Models

| Model | Speed | Quality | Best For |
|-------|-------|---------|----------|
| **SD-Turbo** (default) | ~13s | ⭐⭐ | Fast iteration, testing |
| **SDXL-Turbo** | ~17s | ⭐⭐⭐ | Better quality, still fast |
| **SD-1.5** | ~88s | ⭐⭐⭐ | General purpose |
| **SDXL-Base-1.0** | ~9min | ⭐⭐⭐⭐⭐ | Photorealistic, high quality |

<Note>
**Default:** SD-Turbo (fast, ~13s). For better quality, use SDXL-Turbo. For photorealistic, use SDXL-Base-1.0.
</Note>

---

## Examples

### Fast Generation (Default)
```bash
gaia sd "a robot assistant with AMD logo"
```

### Better Quality
```bash
gaia sd "cyberpunk city at night" --sd-model SDXL-Turbo
```

### Photorealistic (Slow)
```bash
gaia sd "mountain landscape, photorealistic, detailed" --sd-model SDXL-Base-1.0
```

### With Custom Settings
```bash
gaia sd "portrait" --sd-model SDXL-Base-1.0 --steps 30 --cfg-scale 10.0 --seed 42
```

### Interactive Mode
```bash
gaia sd -i
```

Generates images continuously until you type `quit`.

### For Automation (No Prompts)
```bash
gaia sd "test image" --no-open
```

Skips the "Open image in viewer?" prompt.

---

## Options

| Option | Default | Description |
|--------|---------|-------------|
| `--sd-model` | SD-Turbo | Model: SD-Turbo, SDXL-Turbo, SDXL-Base-1.0, SD-1.5 |
| `--size` | auto | Image size: 512x512, 768x768, 1024x1024 |
| `--steps` | auto | Inference steps (4 for Turbo, 20 for Base) |
| `--cfg-scale` | auto | CFG scale (1.0 for Turbo, 7.5 for Base) |
| `--seed` | random | Fixed seed for reproducibility |
| `--output-dir` | .gaia/cache/sd/images | Where to save images |
| `-i, --interactive` | - | Run in interactive mode |
| `--no-open` | - | Skip prompt to open in viewer |

<Accordion title="What is CFG scale?">
Classifier-Free Guidance scale controls how closely the image follows the prompt. Higher values (7-10) = stronger prompt adherence. Turbo models use 1.0, Base models use 7.5 by default.
</Accordion>

---

## Prompt Engineering Tips

Enhance simple prompts for better results:

| Simple | Enhanced |
|--------|----------|
| "a cat" | "fluffy orange cat, soft natural lighting, detailed fur, photorealistic, 4k" |
| "sunset" | "vibrant sunset over calm ocean, golden hour, dramatic clouds, wide angle, 4k" |
| "robot" | "futuristic robot assistant, metallic chrome finish, studio lighting, sci-fi, detailed" |

**Key elements to add:**
- **Style:** photorealistic, anime, oil painting, digital art
- **Lighting:** golden hour, dramatic, soft, studio
- **Quality:** detailed, 4k, high quality
- **Composition:** rule of thirds, centered, wide angle

---

## Troubleshooting

<AccordionGroup>
  <Accordion title="Error: Cannot connect to Lemonade Server">
    **Solution:**
    ```bash
    # Start the server
    lemonade-server serve

    # Pull SD model
    lemonade-server pull SD-Turbo
    ```

    Verify server is running:
    ```bash
    lemonade-server status
    ```
  </Accordion>

  <Accordion title="Slow generation times">
    **SDXL-Base-1.0 at 1024x1024 takes ~9 minutes** (20 steps, photorealistic quality).

    For faster results:
    - Use `--sd-model SDXL-Turbo` (~17s)
    - Use `--sd-model SD-Turbo` (~13s, default)
    - Use smaller size: `--size 512x512`
  </Accordion>

  <Accordion title="Low quality images">
    **SD-Turbo** produces lower quality (optimized for speed).

    For better quality:
    - Use `--sd-model SDXL-Turbo` (better, still fast)
    - Use `--sd-model SDXL-Base-1.0` (photorealistic, slow)
    - Add quality keywords: "detailed, high quality, 4k, photorealistic"
  </Accordion>
</AccordionGroup>

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Build an SD Agent" icon="robot" href="/sdk/mixins/tool-mixins">
    Learn how to integrate SDToolsMixin into your own agents for programmatic image generation
  </Card>

  <Card title="SD Agent Plan" icon="map" href="/plans/image-agent">
    Full SD Agent with VLM evaluation and iterative refinement
  </Card>
</CardGroup>
